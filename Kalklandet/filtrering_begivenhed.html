<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="kalklandet.css">
</head>

<body>

    <div class="item item8">

        <div class="nested-item3">
            <h2>Det sker</h2>
        </div>

        <button class="btn-hover color-11">STEVNSFORT</button>
        <button class="btn-hover color-11">GEOMUSEUM FAXE</button>
        <button class="btn-hover color-11">STEVNS KLINT</button>
        <button class="btn-hover color-11">NYERE TIDS KULTUR</button>

        <div class="det-sker-nested">

            <main class="begivenhed"></main>

        </div>


    </div>


    <template>

        <section class="begivenhed">
            <div class="dato">
                <p></p>
            </div>

            <p class="det-sker-text"></p>
        </section>

    </template>



</body>

<script>
    "use strict"
    let detSker = [];

    document.addEventListener("DOMContentLoaded", start);


    async function hentJson3() {

        console.log("hent json 3");

        let url = "http://sophiasvane.dk/kea/07-cms/kalklandet_a3/wordpress/wp-json/wp/v2/begivenhed?per_page=5";

        let myJson = await fetch(url);
        detSker = await myJson.json();

        visDetSker();
    }


    function visDetSker() {
        console.log("VIS DET SKER");

        let dest = document.querySelector(".begivenhed");
        let temp = document.querySelector("template");



        detSker.forEach(begivenhed => {
            let klon = temp.cloneNode(true).content;

            klon.querySelector(".dato p").innerHTML = begivenhed.dato.rendered;
            klon.querySelector(".det-sker-text").innerHTML = begivenhed.title.rendered;


            dest.appendChild(klon);
        })

    }

    hentJson3();

</script>
